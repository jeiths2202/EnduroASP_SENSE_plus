"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/abend-test-scenario";
exports.ids = ["pages/api/abend-test-scenario"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fabend-test-scenario&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fabend-test-scenario.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fabend-test-scenario&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fabend-test-scenario.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_abend_test_scenario_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/abend-test-scenario.ts */ \"(api)/./src/pages/api/abend-test-scenario.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_abend_test_scenario_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_abend_test_scenario_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/abend-test-scenario\",\n        pathname: \"/api/abend-test-scenario\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_abend_test_scenario_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFiZW5kLXRlc3Qtc2NlbmFyaW8mcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRmFiZW5kLXRlc3Qtc2NlbmFyaW8udHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDbUU7QUFDbkU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGtFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxrRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZmFzcC1kZXZvcHMvP2VlYjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvYWJlbmQtdGVzdC1zY2VuYXJpby50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FiZW5kLXRlc3Qtc2NlbmFyaW9cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hYmVuZC10ZXN0LXNjZW5hcmlvXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fabend-test-scenario&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fabend-test-scenario.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/abend-test-scenario.ts":
/*!**********************************************!*\
  !*** ./src/pages/api/abend-test-scenario.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n\n// In-memory storage for test status (in production, use Redis or database)\nlet testScenarioStatus = {\n    isRunning: false,\n    currentStep: 0,\n    totalSteps: 7,\n    overallStatus: \"idle\",\n    steps: [\n        {\n            id: \"f3-check\",\n            name: \"F3 Key Behavior Check\",\n            status: \"pending\"\n        },\n        {\n            id: \"zabbix-monitor\",\n            name: \"Zabbix ABEND Monitoring\",\n            status: \"pending\"\n        },\n        {\n            id: \"devops-logs\",\n            name: \"DevOps Auto-Fix Logs\",\n            status: \"pending\"\n        },\n        {\n            id: \"backup-verify\",\n            name: \"Backup System Verification\",\n            status: \"pending\"\n        },\n        {\n            id: \"compile-verify\",\n            name: \"Compilation Verification\",\n            status: \"pending\"\n        },\n        {\n            id: \"f3-test\",\n            name: \"F3 Fix Verification Test\",\n            status: \"pending\"\n        },\n        {\n            id: \"summary\",\n            name: \"Test Summary\",\n            status: \"pending\"\n        }\n    ]\n};\nasync function handler(req, res) {\n    if (req.method === \"POST\" && req.query.action === \"start\") {\n        // Start the test scenario\n        if (testScenarioStatus.isRunning) {\n            return res.status(400).json({\n                error: \"Test is already running\"\n            });\n        }\n        // Reset status\n        testScenarioStatus = {\n            isRunning: true,\n            currentStep: 0,\n            totalSteps: 7,\n            overallStatus: \"running\",\n            startTime: new Date().toISOString(),\n            steps: testScenarioStatus.steps.map((step)=>({\n                    ...step,\n                    status: \"pending\",\n                    message: undefined\n                }))\n        };\n        // Start the test scenario in background\n        runTestScenario();\n        return res.status(200).json({\n            message: \"Test scenario started\",\n            status: testScenarioStatus\n        });\n    } else if (req.method === \"GET\") {\n        // Get current test status\n        return res.status(200).json(testScenarioStatus);\n    } else if (req.method === \"POST\" && req.query.action === \"update\") {\n        // Update step status (for manual updates from script)\n        const { stepId, status, message } = req.body;\n        const stepIndex = testScenarioStatus.steps.findIndex((s)=>s.id === stepId);\n        if (stepIndex !== -1) {\n            testScenarioStatus.steps[stepIndex] = {\n                ...testScenarioStatus.steps[stepIndex],\n                status,\n                message,\n                endTime: status === \"success\" || status === \"failed\" ? new Date().toISOString() : undefined\n            };\n            if (status === \"running\") {\n                testScenarioStatus.steps[stepIndex].startTime = new Date().toISOString();\n                testScenarioStatus.currentStep = stepIndex + 1;\n            }\n        }\n        return res.status(200).json({\n            message: \"Status updated\",\n            status: testScenarioStatus\n        });\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\",\n            \"POST\"\n        ]);\n        return res.status(405).json({\n            error: `Method ${req.method} Not Allowed`\n        });\n    }\n}\n// Simulate running the test scenario with intervals\nasync function runTestScenario() {\n    const steps = [\n        {\n            id: \"f3-check\",\n            duration: 5000,\n            simulate: simulateF3Check\n        },\n        {\n            id: \"zabbix-monitor\",\n            duration: 7000,\n            simulate: simulateZabbixMonitor\n        },\n        {\n            id: \"devops-logs\",\n            duration: 6000,\n            simulate: simulateDevOpsLogs\n        },\n        {\n            id: \"backup-verify\",\n            duration: 8000,\n            simulate: simulateBackupVerify\n        },\n        {\n            id: \"compile-verify\",\n            duration: 9000,\n            simulate: simulateCompileVerify\n        },\n        {\n            id: \"f3-test\",\n            duration: 7000,\n            simulate: simulateF3Test\n        },\n        {\n            id: \"summary\",\n            duration: 5000,\n            simulate: simulateSummary\n        }\n    ];\n    for(let i = 0; i < steps.length; i++){\n        const step = steps[i];\n        const stepData = testScenarioStatus.steps[i];\n        // Update step to running\n        testScenarioStatus.steps[i] = {\n            ...stepData,\n            status: \"running\",\n            startTime: new Date().toISOString()\n        };\n        testScenarioStatus.currentStep = i + 1;\n        // Simulate step execution\n        await new Promise((resolve)=>setTimeout(resolve, step.duration));\n        // Run simulation\n        const result = await step.simulate();\n        // Update step with result\n        testScenarioStatus.steps[i] = {\n            ...testScenarioStatus.steps[i],\n            status: result.success ? \"success\" : \"failed\",\n            message: result.message,\n            endTime: new Date().toISOString(),\n            duration: step.duration\n        };\n        // If step failed, stop the test\n        if (!result.success && i < steps.length - 1) {\n            testScenarioStatus.overallStatus = \"failed\";\n            testScenarioStatus.isRunning = false;\n            testScenarioStatus.endTime = new Date().toISOString();\n            return;\n        }\n    }\n    // All steps completed\n    testScenarioStatus.overallStatus = \"success\";\n    testScenarioStatus.isRunning = false;\n    testScenarioStatus.endTime = new Date().toISOString();\n}\n// Simulation functions for each step\nasync function simulateF3Check() {\n    // Check if F3 key is fixed\n    try {\n        const mainPath = \"/home/aspuser/app/volume/DISK01/JAVA/MAIN001.java\";\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(mainPath)) {\n            const content = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(mainPath, \"utf8\");\n            if (content.includes(\"returnToLogo();\")) {\n                return {\n                    success: true,\n                    message: \"F3 key is currently fixed (calls returnToLogo)\"\n                };\n            } else {\n                return {\n                    success: true,\n                    message: \"F3 key would trigger ABEND (needs fix)\"\n                };\n            }\n        }\n        return {\n            success: false,\n            message: \"MAIN001.java not found\"\n        };\n    } catch (error) {\n        return {\n            success: false,\n            message: `Error checking F3 key: ${error}`\n        };\n    }\n}\nasync function simulateZabbixMonitor() {\n    // Simulate Zabbix monitoring check\n    return {\n        success: true,\n        message: \"Zabbix monitoring active, ABEND detection configured\"\n    };\n}\nasync function simulateDevOpsLogs() {\n    // Check DevOps fix logs\n    try {\n        const logPath = \"/home/aspuser/app/logs/devops-fix.log\";\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(logPath)) {\n            const stats = fs__WEBPACK_IMPORTED_MODULE_0___default().statSync(logPath);\n            return {\n                success: true,\n                message: `DevOps fix log exists (${stats.size} bytes)`\n            };\n        }\n        return {\n            success: true,\n            message: \"No DevOps fix log found (no fixes applied yet)\"\n        };\n    } catch (error) {\n        return {\n            success: false,\n            message: `Error checking logs: ${error}`\n        };\n    }\n}\nasync function simulateBackupVerify() {\n    // Verify backup system\n    try {\n        const backupDir = \"/home/aspuser/app/volume/DISK01/JAVA/backups\";\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(backupDir)) {\n            const files = fs__WEBPACK_IMPORTED_MODULE_0___default().readdirSync(backupDir).filter((f)=>f.endsWith(\".java\"));\n            return {\n                success: true,\n                message: `Backup system operational (${files.length} backup files)`\n            };\n        }\n        return {\n            success: true,\n            message: \"Backup directory will be created on first fix\"\n        };\n    } catch (error) {\n        return {\n            success: false,\n            message: `Error checking backups: ${error}`\n        };\n    }\n}\nasync function simulateCompileVerify() {\n    // Simulate compilation verification\n    return {\n        success: true,\n        message: \"MAIN001.java compiles successfully with UTF-8 encoding\"\n    };\n}\nasync function simulateF3Test() {\n    // Simulate F3 fix verification\n    return {\n        success: true,\n        message: \"F3 key fix verified - returns to LOGO screen correctly\"\n    };\n}\nasync function simulateSummary() {\n    // Generate summary\n    const successCount = testScenarioStatus.steps.filter((s)=>s.status === \"success\").length;\n    return {\n        success: true,\n        message: `Test completed: ${successCount}/${testScenarioStatus.totalSteps} steps passed`\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2FiZW5kLXRlc3Qtc2NlbmFyaW8udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRW9CO0FBdUJwQiwyRUFBMkU7QUFDM0UsSUFBSUMscUJBQXlDO0lBQzNDQyxXQUFXO0lBQ1hDLGFBQWE7SUFDYkMsWUFBWTtJQUNaQyxlQUFlO0lBQ2ZDLE9BQU87UUFDTDtZQUFFQyxJQUFJO1lBQVlDLE1BQU07WUFBeUJDLFFBQVE7UUFBVTtRQUNuRTtZQUFFRixJQUFJO1lBQWtCQyxNQUFNO1lBQTJCQyxRQUFRO1FBQVU7UUFDM0U7WUFBRUYsSUFBSTtZQUFlQyxNQUFNO1lBQXdCQyxRQUFRO1FBQVU7UUFDckU7WUFBRUYsSUFBSTtZQUFpQkMsTUFBTTtZQUE4QkMsUUFBUTtRQUFVO1FBQzdFO1lBQUVGLElBQUk7WUFBa0JDLE1BQU07WUFBNEJDLFFBQVE7UUFBVTtRQUM1RTtZQUFFRixJQUFJO1lBQVdDLE1BQU07WUFBNEJDLFFBQVE7UUFBVTtRQUNyRTtZQUFFRixJQUFJO1lBQVdDLE1BQU07WUFBZ0JDLFFBQVE7UUFBVTtLQUMxRDtBQUNIO0FBRWUsZUFBZUMsUUFDNUJDLEdBQW1CLEVBQ25CQyxHQUFvQjtJQUVwQixJQUFJRCxJQUFJRSxNQUFNLEtBQUssVUFBVUYsSUFBSUcsS0FBSyxDQUFDQyxNQUFNLEtBQUssU0FBUztRQUN6RCwwQkFBMEI7UUFDMUIsSUFBSWQsbUJBQW1CQyxTQUFTLEVBQUU7WUFDaEMsT0FBT1UsSUFBSUgsTUFBTSxDQUFDLEtBQUtPLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUEwQjtRQUNqRTtRQUVBLGVBQWU7UUFDZmhCLHFCQUFxQjtZQUNuQkMsV0FBVztZQUNYQyxhQUFhO1lBQ2JDLFlBQVk7WUFDWkMsZUFBZTtZQUNmYSxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDakNkLE9BQU9MLG1CQUFtQkssS0FBSyxDQUFDZSxHQUFHLENBQUNDLENBQUFBLE9BQVM7b0JBQUUsR0FBR0EsSUFBSTtvQkFBRWIsUUFB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QjtJQUNiLCtCQUErQjtJQUMvQixPQUFPO1FBQ0xTLFNBQVM7UUFDVDFCLFNBQVM7SUFDWDtBQUNGO0FBRUEsZUFBZWtCO0lBQ2IsbUJBQW1CO0lBQ25CLE1BQU13QixlQUFlaEUsbUJBQW1CSyxLQUFLLENBQUN3RCxNQUFNLENBQUNoQyxDQUFBQSxJQUFLQSxFQUFFckIsTUFBTSxLQUFLLFdBQVdrQyxNQUFNO0lBQ3hGLE9BQU87UUFDTE0sU0FBUztRQUNUMUIsU0FBUyxDQUFDLGdCQUFnQixFQUFFMEMsYUFBYSxDQUFDLEVBQUVoRSxtQkFBbUJHLFVBQVUsQ0FBQyxhQUFhLENBQUM7SUFDMUY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29mYXNwLWRldm9wcy8uL3NyYy9wYWdlcy9hcGkvYWJlbmQtdGVzdC1zY2VuYXJpby50cz80ZGI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IGV4ZWMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW50ZXJmYWNlIFRlc3RTdGVwIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdGF0dXM6ICdwZW5kaW5nJyB8ICdydW5uaW5nJyB8ICdzdWNjZXNzJyB8ICdmYWlsZWQnO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBzdGFydFRpbWU/OiBzdHJpbmc7XG4gIGVuZFRpbWU/OiBzdHJpbmc7XG4gIGR1cmF0aW9uPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgVGVzdFNjZW5hcmlvU3RhdHVzIHtcbiAgaXNSdW5uaW5nOiBib29sZWFuO1xuICBjdXJyZW50U3RlcDogbnVtYmVyO1xuICB0b3RhbFN0ZXBzOiBudW1iZXI7XG4gIHN0ZXBzOiBUZXN0U3RlcFtdO1xuICBzdGFydFRpbWU/OiBzdHJpbmc7XG4gIGVuZFRpbWU/OiBzdHJpbmc7XG4gIG92ZXJhbGxTdGF0dXM6ICdpZGxlJyB8ICdydW5uaW5nJyB8ICdzdWNjZXNzJyB8ICdmYWlsZWQnO1xufVxuXG4vLyBJbi1tZW1vcnkgc3RvcmFnZSBmb3IgdGVzdCBzdGF0dXMgKGluIHByb2R1Y3Rpb24sIHVzZSBSZWRpcyBvciBkYXRhYmFzZSlcbmxldCB0ZXN0U2NlbmFyaW9TdGF0dXM6IFRlc3RTY2VuYXJpb1N0YXR1cyA9IHtcbiAgaXNSdW5uaW5nOiBmYWxzZSxcbiAgY3VycmVudFN0ZXA6IDAsXG4gIHRvdGFsU3RlcHM6IDcsXG4gIG92ZXJhbGxTdGF0dXM6ICdpZGxlJyxcbiAgc3RlcHM6IFtcbiAgICB7IGlkOiAnZjMtY2hlY2snLCBuYW1lOiAnRjMgS2V5IEJlaGF2aW9yIENoZWNrJywgc3RhdHVzOiAncGVuZGluZycgfSxcbiAgICB7IGlkOiAnemFiYml4LW1vbml0b3InLCBuYW1lOiAnWmFiYml4IEFCRU5EIE1vbml0b3JpbmcnLCBzdGF0dXM6ICdwZW5kaW5nJyB9LFxuICAgIHsgaWQ6ICdkZXZvcHMtbG9ncycsIG5hbWU6ICdEZXZPcHMgQXV0by1GaXggTG9ncycsIHN0YXR1czogJ3BlbmRpbmcnIH0sXG4gICAgeyBpZDogJ2JhY2t1cC12ZXJpZnknLCBuYW1lOiAnQmFja3VwIFN5c3RlbSBWZXJpZmljYXRpb24nLCBzdGF0dXM6ICdwZW5kaW5nJyB9LFxuICAgIHsgaWQ6ICdjb21waWxlLXZlcmlmeScsIG5hbWU6ICdDb21waWxhdGlvbiBWZXJpZmljYXRpb24nLCBzdGF0dXM6ICdwZW5kaW5nJyB9LFxuICAgIHsgaWQ6ICdmMy10ZXN0JywgbmFtZTogJ0YzIEZpeCBWZXJpZmljYXRpb24gVGVzdCcsIHN0YXR1czogJ3BlbmRpbmcnIH0sXG4gICAgeyBpZDogJ3N1bW1hcnknLCBuYW1lOiAnVGVzdCBTdW1tYXJ5Jywgc3RhdHVzOiAncGVuZGluZycgfVxuICBdXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcgJiYgcmVxLnF1ZXJ5LmFjdGlvbiA9PT0gJ3N0YXJ0Jykge1xuICAgIC8vIFN0YXJ0IHRoZSB0ZXN0IHNjZW5hcmlvXG4gICAgaWYgKHRlc3RTY2VuYXJpb1N0YXR1cy5pc1J1bm5pbmcpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGVzdCBpcyBhbHJlYWR5IHJ1bm5pbmcnIH0pO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IHN0YXR1c1xuICAgIHRlc3RTY2VuYXJpb1N0YXR1cyA9IHtcbiAgICAgIGlzUnVubmluZzogdHJ1ZSxcbiAgICAgIGN1cnJlbnRTdGVwOiAwLFxuICAgICAgdG90YWxTdGVwczogNyxcbiAgICAgIG92ZXJhbGxTdGF0dXM6ICdydW5uaW5nJyxcbiAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc3RlcHM6IHRlc3RTY2VuYXJpb1N0YXR1cy5zdGVwcy5tYXAoc3RlcCA9PiAoeyAuLi5zdGVwLCBzdGF0dXM6ICdwZW5kaW5nJywgbWVzc2FnZTogdW5kZWZpbmVkIH0pKVxuICAgIH07XG5cbiAgICAvLyBTdGFydCB0aGUgdGVzdCBzY2VuYXJpbyBpbiBiYWNrZ3JvdW5kXG4gICAgcnVuVGVzdFNjZW5hcmlvKCk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnVGVzdCBzY2VuYXJpbyBzdGFydGVkJywgc3RhdHVzOiB0ZXN0U2NlbmFyaW9TdGF0dXMgfSk7XG5cbiAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgIC8vIEdldCBjdXJyZW50IHRlc3Qgc3RhdHVzXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHRlc3RTY2VuYXJpb1N0YXR1cyk7XG5cbiAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcgJiYgcmVxLnF1ZXJ5LmFjdGlvbiA9PT0gJ3VwZGF0ZScpIHtcbiAgICAvLyBVcGRhdGUgc3RlcCBzdGF0dXMgKGZvciBtYW51YWwgdXBkYXRlcyBmcm9tIHNjcmlwdClcbiAgICBjb25zdCB7IHN0ZXBJZCwgc3RhdHVzLCBtZXNzYWdlIH0gPSByZXEuYm9keTtcbiAgICBcbiAgICBjb25zdCBzdGVwSW5kZXggPSB0ZXN0U2NlbmFyaW9TdGF0dXMuc3RlcHMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gc3RlcElkKTtcbiAgICBpZiAoc3RlcEluZGV4ICE9PSAtMSkge1xuICAgICAgdGVzdFNjZW5hcmlvU3RhdHVzLnN0ZXBzW3N0ZXBJbmRleF0gPSB7XG4gICAgICAgIC4uLnRlc3RTY2VuYXJpb1N0YXR1cy5zdGVwc1tzdGVwSW5kZXhdLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGVuZFRpbWU6IHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnIHx8IHN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGlmIChzdGF0dXMgPT09ICdydW5uaW5nJykge1xuICAgICAgICB0ZXN0U2NlbmFyaW9TdGF0dXMuc3RlcHNbc3RlcEluZGV4XS5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIHRlc3RTY2VuYXJpb1N0YXR1cy5jdXJyZW50U3RlcCA9IHN0ZXBJbmRleCArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdTdGF0dXMgdXBkYXRlZCcsIHN0YXR1czogdGVzdFNjZW5hcmlvU3RhdHVzIH0pO1xuXG4gIH0gZWxzZSB7XG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJ10pO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiBgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgIH0pO1xuICB9XG59XG5cbi8vIFNpbXVsYXRlIHJ1bm5pbmcgdGhlIHRlc3Qgc2NlbmFyaW8gd2l0aCBpbnRlcnZhbHNcbmFzeW5jIGZ1bmN0aW9uIHJ1blRlc3RTY2VuYXJpbygpIHtcbiAgY29uc3Qgc3RlcHMgPSBbXG4gICAgeyBpZDogJ2YzLWNoZWNrJywgZHVyYXRpb246IDUwMDAsIHNpbXVsYXRlOiBzaW11bGF0ZUYzQ2hlY2sgfSxcbiAgICB7IGlkOiAnemFiYml4LW1vbml0b3InLCBkdXJhdGlvbjogNzAwMCwgc2ltdWxhdGU6IHNpbXVsYXRlWmFiYml4TW9uaXRvciB9LFxuICAgIHsgaWQ6ICdkZXZvcHMtbG9ncycsIGR1cmF0aW9uOiA2MDAwLCBzaW11bGF0ZTogc2ltdWxhdGVEZXZPcHNMb2dzIH0sXG4gICAgeyBpZDogJ2JhY2t1cC12ZXJpZnknLCBkdXJhdGlvbjogODAwMCwgc2ltdWxhdGU6IHNpbXVsYXRlQmFja3VwVmVyaWZ5IH0sXG4gICAgeyBpZDogJ2NvbXBpbGUtdmVyaWZ5JywgZHVyYXRpb246IDkwMDAsIHNpbXVsYXRlOiBzaW11bGF0ZUNvbXBpbGVWZXJpZnkgfSxcbiAgICB7IGlkOiAnZjMtdGVzdCcsIGR1cmF0aW9uOiA3MDAwLCBzaW11bGF0ZTogc2ltdWxhdGVGM1Rlc3QgfSxcbiAgICB7IGlkOiAnc3VtbWFyeScsIGR1cmF0aW9uOiA1MDAwLCBzaW11bGF0ZTogc2ltdWxhdGVTdW1tYXJ5IH1cbiAgXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RlcCA9IHN0ZXBzW2ldO1xuICAgIGNvbnN0IHN0ZXBEYXRhID0gdGVzdFNjZW5hcmlvU3RhdHVzLnN0ZXBzW2ldO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBzdGVwIHRvIHJ1bm5pbmdcbiAgICB0ZXN0U2NlbmFyaW9TdGF0dXMuc3RlcHNbaV0gPSB7XG4gICAgICAuLi5zdGVwRGF0YSxcbiAgICAgIHN0YXR1czogJ3J1bm5pbmcnLFxuICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIHRlc3RTY2VuYXJpb1N0YXR1cy5jdXJyZW50U3RlcCA9IGkgKyAxO1xuXG4gICAgLy8gU2ltdWxhdGUgc3RlcCBleGVjdXRpb25cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgc3RlcC5kdXJhdGlvbikpO1xuICAgIFxuICAgIC8vIFJ1biBzaW11bGF0aW9uXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RlcC5zaW11bGF0ZSgpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBzdGVwIHdpdGggcmVzdWx0XG4gICAgdGVzdFNjZW5hcmlvU3RhdHVzLnN0ZXBzW2ldID0ge1xuICAgICAgLi4udGVzdFNjZW5hcmlvU3RhdHVzLnN0ZXBzW2ldLFxuICAgICAgc3RhdHVzOiByZXN1bHQuc3VjY2VzcyA/ICdzdWNjZXNzJyA6ICdmYWlsZWQnLFxuICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsXG4gICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBkdXJhdGlvbjogc3RlcC5kdXJhdGlvblxuICAgIH07XG5cbiAgICAvLyBJZiBzdGVwIGZhaWxlZCwgc3RvcCB0aGUgdGVzdFxuICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MgJiYgaSA8IHN0ZXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHRlc3RTY2VuYXJpb1N0YXR1cy5vdmVyYWxsU3RhdHVzID0gJ2ZhaWxlZCc7XG4gICAgICB0ZXN0U2NlbmFyaW9TdGF0dXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICB0ZXN0U2NlbmFyaW9TdGF0dXMuZW5kVGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICAvLyBBbGwgc3RlcHMgY29tcGxldGVkXG4gIHRlc3RTY2VuYXJpb1N0YXR1cy5vdmVyYWxsU3RhdHVzID0gJ3N1Y2Nlc3MnO1xuICB0ZXN0U2NlbmFyaW9TdGF0dXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gIHRlc3RTY2VuYXJpb1N0YXR1cy5lbmRUaW1lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xufVxuXG4vLyBTaW11bGF0aW9uIGZ1bmN0aW9ucyBmb3IgZWFjaCBzdGVwXG5hc3luYyBmdW5jdGlvbiBzaW11bGF0ZUYzQ2hlY2soKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XG4gIC8vIENoZWNrIGlmIEYzIGtleSBpcyBmaXhlZFxuICB0cnkge1xuICAgIGNvbnN0IG1haW5QYXRoID0gJy9ob21lL2FzcHVzZXIvYXBwL3ZvbHVtZS9ESVNLMDEvSkFWQS9NQUlOMDAxLmphdmEnO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKG1haW5QYXRoKSkge1xuICAgICAgY29uc3QgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhtYWluUGF0aCwgJ3V0ZjgnKTtcbiAgICAgIGlmIChjb250ZW50LmluY2x1ZGVzKCdyZXR1cm5Ub0xvZ28oKTsnKSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnRjMga2V5IGlzIGN1cnJlbnRseSBmaXhlZCAoY2FsbHMgcmV0dXJuVG9Mb2dvKScgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdGMyBrZXkgd291bGQgdHJpZ2dlciBBQkVORCAobmVlZHMgZml4KScgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdNQUlOMDAxLmphdmEgbm90IGZvdW5kJyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBgRXJyb3IgY2hlY2tpbmcgRjMga2V5OiAke2Vycm9yfWAgfTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzaW11bGF0ZVphYmJpeE1vbml0b3IoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XG4gIC8vIFNpbXVsYXRlIFphYmJpeCBtb25pdG9yaW5nIGNoZWNrXG4gIHJldHVybiB7IFxuICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgIG1lc3NhZ2U6ICdaYWJiaXggbW9uaXRvcmluZyBhY3RpdmUsIEFCRU5EIGRldGVjdGlvbiBjb25maWd1cmVkJyBcbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2ltdWxhdGVEZXZPcHNMb2dzKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAvLyBDaGVjayBEZXZPcHMgZml4IGxvZ3NcbiAgdHJ5IHtcbiAgICBjb25zdCBsb2dQYXRoID0gJy9ob21lL2FzcHVzZXIvYXBwL2xvZ3MvZGV2b3BzLWZpeC5sb2cnO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGxvZ1BhdGgpKSB7XG4gICAgICBjb25zdCBzdGF0cyA9IGZzLnN0YXRTeW5jKGxvZ1BhdGgpO1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICBtZXNzYWdlOiBgRGV2T3BzIGZpeCBsb2cgZXhpc3RzICgke3N0YXRzLnNpemV9IGJ5dGVzKWAgXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnTm8gRGV2T3BzIGZpeCBsb2cgZm91bmQgKG5vIGZpeGVzIGFwcGxpZWQgeWV0KScgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogYEVycm9yIGNoZWNraW5nIGxvZ3M6ICR7ZXJyb3J9YCB9O1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlQmFja3VwVmVyaWZ5KCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAvLyBWZXJpZnkgYmFja3VwIHN5c3RlbVxuICB0cnkge1xuICAgIGNvbnN0IGJhY2t1cERpciA9ICcvaG9tZS9hc3B1c2VyL2FwcC92b2x1bWUvRElTSzAxL0pBVkEvYmFja3Vwcyc7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYmFja3VwRGlyKSkge1xuICAgICAgY29uc3QgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhiYWNrdXBEaXIpLmZpbHRlcihmID0+IGYuZW5kc1dpdGgoJy5qYXZhJykpO1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICBtZXNzYWdlOiBgQmFja3VwIHN5c3RlbSBvcGVyYXRpb25hbCAoJHtmaWxlcy5sZW5ndGh9IGJhY2t1cCBmaWxlcylgIFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ0JhY2t1cCBkaXJlY3Rvcnkgd2lsbCBiZSBjcmVhdGVkIG9uIGZpcnN0IGZpeCcgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogYEVycm9yIGNoZWNraW5nIGJhY2t1cHM6ICR7ZXJyb3J9YCB9O1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlQ29tcGlsZVZlcmlmeSgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgLy8gU2ltdWxhdGUgY29tcGlsYXRpb24gdmVyaWZpY2F0aW9uXG4gIHJldHVybiB7IFxuICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgIG1lc3NhZ2U6ICdNQUlOMDAxLmphdmEgY29tcGlsZXMgc3VjY2Vzc2Z1bGx5IHdpdGggVVRGLTggZW5jb2RpbmcnIFxuICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzaW11bGF0ZUYzVGVzdCgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgLy8gU2ltdWxhdGUgRjMgZml4IHZlcmlmaWNhdGlvblxuICByZXR1cm4geyBcbiAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICBtZXNzYWdlOiAnRjMga2V5IGZpeCB2ZXJpZmllZCAtIHJldHVybnMgdG8gTE9HTyBzY3JlZW4gY29ycmVjdGx5JyBcbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2ltdWxhdGVTdW1tYXJ5KCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAvLyBHZW5lcmF0ZSBzdW1tYXJ5XG4gIGNvbnN0IHN1Y2Nlc3NDb3VudCA9IHRlc3RTY2VuYXJpb1N0YXR1cy5zdGVwcy5maWx0ZXIocyA9PiBzLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKS5sZW5ndGg7XG4gIHJldHVybiB7IFxuICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgIG1lc3NhZ2U6IGBUZXN0IGNvbXBsZXRlZDogJHtzdWNjZXNzQ291bnR9LyR7dGVzdFNjZW5hcmlvU3RhdHVzLnRvdGFsU3RlcHN9IHN0ZXBzIHBhc3NlZGAgXG4gIH07XG59Il0sIm5hbWVzIjpbImZzIiwidGVzdFNjZW5hcmlvU3RhdHVzIiwiaXNSdW5uaW5nIiwiY3VycmVudFN0ZXAiLCJ0b3RhbFN0ZXBzIiwib3ZlcmFsbFN0YXR1cyIsInN0ZXBzIiwiaWQiLCJuYW1lIiwic3RhdHVzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInF1ZXJ5IiwiYWN0aW9uIiwianNvbiIsImVycm9yIiwic3RhcnRUaW1lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWFwIiwic3RlcCIsIm1lc3NhZ2UiLCJ1bmRlZmluZWQiLCJydW5UZXN0U2NlbmFyaW8iLCJzdGVwSWQiLCJib2R5Iiwic3RlcEluZGV4IiwiZmluZEluZGV4IiwicyIsImVuZFRpbWUiLCJzZXRIZWFkZXIiLCJkdXJhdGlvbiIsInNpbXVsYXRlIiwic2ltdWxhdGVGM0NoZWNrIiwic2ltdWxhdGVaYWJiaXhNb25pdG9yIiwic2ltdWxhdGVEZXZPcHNMb2dzIiwic2ltdWxhdGVCYWNrdXBWZXJpZnkiLCJzaW11bGF0ZUNvbXBpbGVWZXJpZnkiLCJzaW11bGF0ZUYzVGVzdCIsInNpbXVsYXRlU3VtbWFyeSIsImkiLCJsZW5ndGgiLCJzdGVwRGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInJlc3VsdCIsInN1Y2Nlc3MiLCJtYWluUGF0aCIsImV4aXN0c1N5bmMiLCJjb250ZW50IiwicmVhZEZpbGVTeW5jIiwiaW5jbHVkZXMiLCJsb2dQYXRoIiwic3RhdHMiLCJzdGF0U3luYyIsInNpemUiLCJiYWNrdXBEaXIiLCJmaWxlcyIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZiIsImVuZHNXaXRoIiwic3VjY2Vzc0NvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/abend-test-scenario.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fabend-test-scenario&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fabend-test-scenario.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();